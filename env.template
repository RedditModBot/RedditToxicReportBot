# =========================
# Reddit credentials
# =========================
REDDIT_CLIENT_ID=your_client_id
REDDIT_CLIENT_SECRET=your_client_secret
REDDIT_USERNAME=YourBotUser
REDDIT_PASSWORD=your_bot_password
REDDIT_USER_AGENT=toxic-report-bot/2.0 by u/YourBotUser

# =========================
# Subreddits to monitor (comma-separated)
# =========================
SUBREDDITS=UFOs

# =========================
# LLM Configuration (Groq - FREE!)
# =========================
# Get your FREE API key at https://console.groq.com/
GROQ_API_KEY=gsk_xxxxx

# Primary model - the bot will try this first
LLM_MODEL=groq/compound

# Fallback chain - comma-separated list of models to try if primary fails
# The bot will try each model in order until one succeeds
# Default chain provides good coverage across different rate limits
LLM_FALLBACK_CHAIN=llama-3.3-70b-versatile,meta-llama/llama-4-scout-17b-16e-instruct,meta-llama/llama-4-maverick-17b-128e-instruct,llama-3.1-8b-instant

# Model options (all free on Groq) - sorted by quality:
#
# | Model                                         | RPD   | TPD       | Notes                    |
# |-----------------------------------------------|-------|-----------|--------------------------|
# | groq/compound                                 | 250   | Unlimited | Smart routing (primary)  |
# | llama-3.3-70b-versatile                       | 1K    | 100K      | Best quality             |
# | meta-llama/llama-4-scout-17b-16e-instruct     | 1K    | 500K      | Good quality, 30K TPM    |
# | meta-llama/llama-4-maverick-17b-128e-instruct | 1K    | 500K      | Good quality             |
# | llama-3.1-8b-instant                          | 14.4K | 500K      | Highest limits (fallback)|
#
# NOT recommended:
# - llama-guard-4-12b (classifier model, not chat)
# - qwen/qwen3-32b (outputs <think> tags, doesn't follow instructions cleanly)

# Max requests per minute to Groq (prevents rate limiting)
# Default 2 = one request every 30 seconds max
LLM_REQUESTS_PER_MINUTE=2

# Legacy - daily limit before switching (less relevant with fallback chain)
LLM_DAILY_LIMIT=14000

# =========================
# Detoxify Pre-filter
# =========================
# Detoxify runs locally to decide what gets sent to the LLM.
# Lower = more comments sent to LLM (more API calls, fewer misses)
# Higher = fewer comments sent to LLM (fewer API calls, might miss some)

# Detoxify model: "original" (more aggressive) or "unbiased" (more conservative)
DETOXIFY_MODEL=original

# =========================
# Detection Thresholds
# =========================
# Per-label thresholds for Detoxify scores (0.0 to 1.0)
# If ANY score exceeds its threshold, comment is sent to AI for review
# Lower = more sensitive (catches more, but more API calls)
# Higher = less sensitive (misses some, but fewer API calls)

# High-priority categories (keep low to catch threats)
THRESHOLD_THREAT=0.15
THRESHOLD_SEVERE_TOXICITY=0.20
THRESHOLD_IDENTITY_ATTACK=0.25

# Insults (different thresholds for directed vs not directed at user)
# "Directed" = contains "you", "your", "OP", or is a reply
THRESHOLD_INSULT_DIRECTED=0.40
THRESHOLD_INSULT_NOT_DIRECTED=0.60

# General toxicity (also has directed/not directed)
THRESHOLD_TOXICITY_DIRECTED=0.40
THRESHOLD_TOXICITY_NOT_DIRECTED=0.50

# Obscene language (keep high - profanity alone isn't necessarily toxic)
THRESHOLD_OBSCENE=0.90

# Borderline skip notification threshold
# Comments scoring above this but below other thresholds are logged as "borderline"
THRESHOLD_BORDERLINE=0.35

# =========================
# Moderation Guidelines
# =========================
# Path to your custom moderation guidelines file
# If not found, uses built-in defaults
MODERATION_GUIDELINES_FILE=moderation_guidelines.txt

# Or set guidelines directly (overrides file):
# MODERATION_GUIDELINES=Your guidelines here...

# =========================
# Reporting behavior
# =========================
# moderator = file a moderator report (requires mod permissions)
# user = file a standard user report
REPORT_AS=moderator

# Optional rule bucket for Reddit's report UI (e.g., "Harassment", "Hate")
REPORT_RULE_BUCKET=

# Master switch for Reddit reporting
ENABLE_REDDIT_REPORTS=true

# If true, log verdicts but DO NOT file reports (good for testing)
DRY_RUN=true

# =========================
# Discord (optional)
# =========================
# Set up Discord notifications for:
# - Real-time alerts when comments are reported
# - Daily stats summary (posted at midnight UTC)
# - False positive alerts (when reported comments weren't removed)
#
# To create a webhook:
# 1. Go to your Discord server
# 2. Edit a channel → Integrations → Webhooks → New Webhook
# 3. Copy the webhook URL and paste below
#
ENABLE_DISCORD=false
DISCORD_WEBHOOK=https://discord.com/api/webhooks/your_webhook_id/your_webhook_token

# =========================
# Logging
# =========================
LOG_LEVEL=INFO
